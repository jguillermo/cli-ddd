import { INestApplication } from '@nestjs/common';
import { TestingE2eModule } from '../../testing-e2e-module';
import { <%= classRepository %> } from '../../../src/<%= fileAggregate %>/domain/<%= fileRepository %>';

export interface <%= testingInterface %> {
  app: INestApplication;
  <%= propertieRepository %>: <%= classRepository %>;
}

export class <%= classE2eModule %> extends TestingE2eModule {
  static async create(): Promise<<%= testingInterface %>> {
    const module = new <%= classE2eModule %>();
    await module.init();
    return {
      app: module.app,
      <%= propertieRepository %>: module.moduleFixture.get<<%= classRepository %>>(<%= classRepository %>),
    };
  }
}
